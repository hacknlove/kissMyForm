<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Mutation</title><meta name="next-head-count" content="3"/><link rel="preload" href="/kissMyForm/_next/static/css/0eec48e03a0c52c73c2d.css" as="style"/><link rel="stylesheet" href="/kissMyForm/_next/static/css/0eec48e03a0c52c73c2d.css"/><link rel="preload" href="/kissMyForm/_next/static/css/5d75940f40b6eed4bdc3.css" as="style"/><link rel="stylesheet" href="/kissMyForm/_next/static/css/5d75940f40b6eed4bdc3.css"/><link rel="preload" href="/kissMyForm/_next/static/chunks/main-a9e2d2dd1cd3930fc5f1.js" as="script"/><link rel="preload" href="/kissMyForm/_next/static/chunks/webpack-ccf5ab034a524403276a.js" as="script"/><link rel="preload" href="/kissMyForm/_next/static/chunks/framework.ea5d6f7a7099b14097ba.js" as="script"/><link rel="preload" href="/kissMyForm/_next/static/chunks/commons.44a408e3183f17275097.js" as="script"/><link rel="preload" href="/kissMyForm/_next/static/chunks/pages/_app-168868f75d070af90c8e.js" as="script"/><link rel="preload" href="/kissMyForm/_next/static/chunks/124be0fe5d1f50ba0447ae766e319a1de2b72e40.8ad27e4f9379fd3336ad.js" as="script"/><link rel="preload" href="/kissMyForm/_next/static/chunks/0f5951ec519cf7f0436b6ffca831e7c62e5897f2.a207520841a93c752a72.js" as="script"/><link rel="preload" href="/kissMyForm/_next/static/chunks/pages/mutation-e2c465222818786eee2d.js" as="script"/></head><body><div id="__next"><div class="Home_container__1EcsU"><main class="Home_main__1x8gC"><h1 class="Home_title__3DjR7">Mutation<!-- --> <a href="/kissMyForm">‚Üê</a></h1><div class="Home_card__2SdtB"><h3>Form:</h3><form><div class="Home_field__kO8UY"><label>Email:</label><br/><input placeholder="Email" name="email" value=""/></div><div class="Home_field__kO8UY"><label>Phone:</label><br/><input placeholder="Phone" name="phone" value=""/></div><button> submit </button></form></div><pre class="Home_code__axx2Y" style="display:block;overflow-x:auto;padding:0.5em;background:#F0F0F0;color:#444"><code class="language-javascript"><span style="font-weight:bold">import</span><span> useKMF </span><span style="font-weight:bold">from</span><span> </span><span style="color:#880000">&#x27;kissmyform&#x27;</span><span>;
</span><span></span><span style="font-weight:bold">import</span><span> styles </span><span style="font-weight:bold">from</span><span> </span><span style="color:#880000">&#x27;../styles/Home.module.css&#x27;</span><span>;
</span>
<span></span><span class="hljs-function" style="font-weight:bold">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#880000;font-weight:bold">phoneFormating</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">number</span><span class="hljs-function">) </span><span>{
</span><span>  number = number.replace(</span><span style="color:#BC6060">/[^0-9]/g</span><span>, </span><span style="color:#880000">&#x27;&#x27;</span><span>);
</span>
<span>  </span><span style="font-weight:bold">const</span><span> part = number.match(</span><span style="color:#BC6060">/(.{0,3})(.{0,3})(.{0,4})/</span><span>);
</span>
<span>  </span><span style="font-weight:bold">if</span><span> (part[</span><span style="color:#880000">3</span><span>]) {
</span><span>    </span><span style="font-weight:bold">return</span><span> </span><span style="color:#880000">`(</span><span style="color:#444">${part[</span><span style="color:#880000">1</span><span style="color:#444">]}</span><span style="color:#880000">)-</span><span style="color:#444">${part[</span><span style="color:#880000">2</span><span style="color:#444">]}</span><span style="color:#880000">-</span><span style="color:#444">${part[</span><span style="color:#880000">3</span><span style="color:#444">]}</span><span style="color:#880000">`</span><span>;
</span>  }
<!-- -->
<span>  </span><span style="font-weight:bold">if</span><span> (part[</span><span style="color:#880000">2</span><span>]) {
</span><span>    </span><span style="font-weight:bold">return</span><span> </span><span style="color:#880000">`(</span><span style="color:#444">${part[</span><span style="color:#880000">1</span><span style="color:#444">]}</span><span style="color:#880000">)-</span><span style="color:#444">${part[</span><span style="color:#880000">2</span><span style="color:#444">]}</span><span style="color:#880000">`</span><span>;
</span>  }
<!-- -->
<span>  </span><span style="font-weight:bold">if</span><span> (part[</span><span style="color:#880000">1</span><span>]) {
</span><span>    </span><span style="font-weight:bold">return</span><span> </span><span style="color:#880000">`(</span><span style="color:#444">${part[</span><span style="color:#880000">1</span><span style="color:#444">]}</span><span style="color:#880000">`</span><span>;
</span>  }
<!-- -->
<span>  </span><span style="font-weight:bold">return</span><span> </span><span style="color:#880000">&#x27;&#x27;</span><span>;
</span>}
<!-- -->
<span></span><span class="hljs-function" style="font-weight:bold">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#880000;font-weight:bold">beforeChange</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">{
</span><span class="hljs-function hljs-params">  name, value, values,
</span><span class="hljs-function hljs-params">}</span><span class="hljs-function">) </span><span>{
</span><span>  </span><span style="font-weight:bold">switch</span><span> (name) {
</span><span>    </span><span style="font-weight:bold">case</span><span> </span><span style="color:#880000">&#x27;email&#x27;</span><span>:
</span><span>      values.email = value.toLowerCase().replace(</span><span style="color:#BC6060">/[^a-z0-9.@]/g</span><span>, </span><span style="color:#880000">&#x27;&#x27;</span><span>);
</span><span>      </span><span style="font-weight:bold">break</span><span>;
</span><span>    </span><span style="font-weight:bold">case</span><span> </span><span style="color:#880000">&#x27;phone&#x27;</span><span>:
</span>      values.phone = phoneFormating(value);
<span>      </span><span style="font-weight:bold">break</span><span>;
</span>  }
<!-- -->}
<!-- -->
<span></span><span style="font-weight:bold">export</span><span> </span><span style="font-weight:bold">default</span><span> </span><span class="hljs-function" style="font-weight:bold">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#880000;font-weight:bold">RequiredExample</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">{ onSubmit }</span><span class="hljs-function">) </span><span>{
</span><span>  </span><span style="font-weight:bold">const</span><span> { inputControl, handleSubmit } = useKMF({ beforeChange });
</span><span>  </span><span style="font-weight:bold">return</span><span> (
</span><span>    </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="font-weight:bold">form</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">onSubmit</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#880000">{handleSubmit(onSubmit)}</span><span class="xml hljs-tag">&gt;</span><span class="xml">
</span><span class="xml">      </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="font-weight:bold">div</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">className</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#880000">{styles.field}</span><span class="xml hljs-tag">&gt;</span><span class="xml">
</span><span class="xml">        </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="font-weight:bold">label</span><span class="xml hljs-tag">&gt;</span><span class="xml">Email:</span><span class="xml hljs-tag">&lt;/</span><span class="xml hljs-tag" style="font-weight:bold">label</span><span class="xml hljs-tag">&gt;</span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="font-weight:bold">br</span><span class="xml hljs-tag"> /&gt;</span><span class="xml">
</span><span class="xml">        </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="font-weight:bold">input</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">placeholder</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#880000">&quot;Email&quot;</span><span class="xml hljs-tag"> {</span><span class="xml hljs-tag hljs-attr">...inputControl</span><span class="xml hljs-tag">(&#x27;</span><span class="xml hljs-tag hljs-attr">email</span><span class="xml hljs-tag">&#x27;)} /&gt;</span><span class="xml">
</span><span class="xml">      </span><span class="xml hljs-tag">&lt;/</span><span class="xml hljs-tag" style="font-weight:bold">div</span><span class="xml hljs-tag">&gt;</span><span class="xml">
</span><span class="xml">      </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="font-weight:bold">div</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">className</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#880000">{styles.field}</span><span class="xml hljs-tag">&gt;</span><span class="xml">
</span><span class="xml">        </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="font-weight:bold">label</span><span class="xml hljs-tag">&gt;</span><span class="xml">Phone:</span><span class="xml hljs-tag">&lt;/</span><span class="xml hljs-tag" style="font-weight:bold">label</span><span class="xml hljs-tag">&gt;</span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="font-weight:bold">br</span><span class="xml hljs-tag"> /&gt;</span><span class="xml">
</span><span class="xml">        </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="font-weight:bold">input</span><span class="xml hljs-tag"> </span><span class="xml hljs-tag hljs-attr">placeholder</span><span class="xml hljs-tag">=</span><span class="xml hljs-tag" style="color:#880000">&quot;Phone&quot;</span><span class="xml hljs-tag"> {</span><span class="xml hljs-tag hljs-attr">...inputControl</span><span class="xml hljs-tag">(&#x27;</span><span class="xml hljs-tag hljs-attr">phone</span><span class="xml hljs-tag">&#x27;)} /&gt;</span><span class="xml">
</span><span class="xml">      </span><span class="xml hljs-tag">&lt;/</span><span class="xml hljs-tag" style="font-weight:bold">div</span><span class="xml hljs-tag">&gt;</span><span class="xml">
</span><span class="xml">      </span><span class="xml hljs-tag">&lt;</span><span class="xml hljs-tag" style="font-weight:bold">button</span><span class="xml hljs-tag">&gt;</span><span class="xml"> submit </span><span class="xml hljs-tag">&lt;/</span><span class="xml hljs-tag" style="font-weight:bold">button</span><span class="xml hljs-tag">&gt;</span><span class="xml">
</span><span class="xml">    </span><span class="xml hljs-tag">&lt;/</span><span class="xml hljs-tag" style="font-weight:bold">form</span><span class="xml hljs-tag">&gt;</span><span>
</span>  );
<!-- -->}
<!-- -->
</code></pre><button>Copy</button></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"code":"import useKMF from 'kissmyform';\nimport styles from '../styles/Home.module.css';\n\nfunction phoneFormating(number) {\n  number = number.replace(/[^0-9]/g, '');\n\n  const part = number.match(/(.{0,3})(.{0,3})(.{0,4})/);\n\n  if (part[3]) {\n    return `(${part[1]})-${part[2]}-${part[3]}`;\n  }\n\n  if (part[2]) {\n    return `(${part[1]})-${part[2]}`;\n  }\n\n  if (part[1]) {\n    return `(${part[1]}`;\n  }\n\n  return '';\n}\n\nfunction beforeChange({\n  name, value, values,\n}) {\n  switch (name) {\n    case 'email':\n      values.email = value.toLowerCase().replace(/[^a-z0-9.@]/g, '');\n      break;\n    case 'phone':\n      values.phone = phoneFormating(value);\n      break;\n  }\n}\n\nexport default function RequiredExample({ onSubmit }) {\n  const { inputControl, handleSubmit } = useKMF({ beforeChange });\n  return (\n    \u003cform onSubmit={handleSubmit(onSubmit)}\u003e\n      \u003cdiv className={styles.field}\u003e\n        \u003clabel\u003eEmail:\u003c/label\u003e\u003cbr /\u003e\n        \u003cinput placeholder=\"Email\" {...inputControl('email')} /\u003e\n      \u003c/div\u003e\n      \u003cdiv className={styles.field}\u003e\n        \u003clabel\u003ePhone:\u003c/label\u003e\u003cbr /\u003e\n        \u003cinput placeholder=\"Phone\" {...inputControl('phone')} /\u003e\n      \u003c/div\u003e\n      \u003cbutton\u003e submit \u003c/button\u003e\n    \u003c/form\u003e\n  );\n}\n"},"__N_SSG":true},"page":"/mutation","query":{},"buildId":"5yIvuEewiNZkHc0MYeN69","assetPrefix":"/kissMyForm","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/kissMyForm/_next/static/chunks/polyfills-a5b86a38e61b63f3b3a9.js"></script><script src="/kissMyForm/_next/static/chunks/main-a9e2d2dd1cd3930fc5f1.js" async=""></script><script src="/kissMyForm/_next/static/chunks/webpack-ccf5ab034a524403276a.js" async=""></script><script src="/kissMyForm/_next/static/chunks/framework.ea5d6f7a7099b14097ba.js" async=""></script><script src="/kissMyForm/_next/static/chunks/commons.44a408e3183f17275097.js" async=""></script><script src="/kissMyForm/_next/static/chunks/pages/_app-168868f75d070af90c8e.js" async=""></script><script src="/kissMyForm/_next/static/chunks/124be0fe5d1f50ba0447ae766e319a1de2b72e40.8ad27e4f9379fd3336ad.js" async=""></script><script src="/kissMyForm/_next/static/chunks/0f5951ec519cf7f0436b6ffca831e7c62e5897f2.a207520841a93c752a72.js" async=""></script><script src="/kissMyForm/_next/static/chunks/pages/mutation-e2c465222818786eee2d.js" async=""></script><script src="/kissMyForm/_next/static/5yIvuEewiNZkHc0MYeN69/_buildManifest.js" async=""></script><script src="/kissMyForm/_next/static/5yIvuEewiNZkHc0MYeN69/_ssgManifest.js" async=""></script></body></html>